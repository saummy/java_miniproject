<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head th:replace="fragments/head" :: head></head>
<body class="bg-[#f1f4f5]">
    <main class="flex flex-col">
        <!-- Header -->
        <div class="flex items-center justify-center py-8">
            <img th:src="@{/assets/logo.svg}" alt="Jobspot" class="h-8"/>
        </div>

        <!-- Password Reset Form -->
        <div class="flex flex-col items-center grow p-6">
            <div class="flex flex-col w-full max-w-[360px]">
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h1 class="mb-6 text-center text-2xl text-[--text] font-bold">Reset your password</h1>
                    <!-- Send Otp -->
                    <form
                            th:if="${js_otp_submission_stage == 'COLLECT_EMAIL'}"
                            th:action="@{/auth/reset-password/{persona}(persona=${js_persona})}"
                            th:method="POST"
                    >
                        <div class="mb-6">
                            <li th:text="${js_email_label}" class="block mb-2 font-medium">Email</li>
                            <div class="relative">
                                <input class="input" type="email" maxlength="255" required>
                            </div>
                        </div>
                        <div class="mb-6">
                            <input class="btn w-full" type="submit" value="Send Reset Code">
                        </div>
                        <div class="text-center">
                            <a
                                class="text-[--green-light] font-medium hover:underline"
                                th:href="@{/auth/login/{persona}(persona=${js_persona})}"
                            >
                                Back to Sign in
                            </a>
                        </div>
                    </form>

                    <!-- Submit Otp Form -->
                    <form
                            th:if="${js_otp_submission_stage == 'COLLECT_OTP'}"
                            th:action="@{/auth/reset-password/{persona}(persona=${js_persona})}"
                            th:method="POST"
                    >
                        <div class="mb-6">
                            <li class="block mb-2 font-medium">Enter 6 digit otp</li>
                            <div class="relative">
                                <input class="input" type="text" maxlength="6" required>
                            </div>
                        </div>
                        <div class="mb-6">
                            <input class="btn w-full" type="submit" value="Submit">
                        </div>
                        <div class="text-center">
                            <a
                                    class="text-[--green-light] font-medium hover:underline"
                                    th:href="@{/auth/login/{persona}(persona=${js_persona})}"
                            >
                                Back to Sign in
                            </a>
                        </div>
                    </form>

                    <!-- Submit New Password Form -->
                    <form
                            th:if="${js_otp_submission_stage == 'COLLECT_NEW_PASSWORD'}"
                            th:action="@{/auth/reset-password/{persona}(persona=${js_persona})}"
                            th:method="POST"
                    >
                        <div class="mb-6">
                            <li class="block mb-2 font-medium">New Password</li>
                            <div class="relative">
                                <input class="input" type="password" maxlength="64" required>
                            </div>
                        </div>
                        <div class="mb-6">
                            <input class="btn w-full" type="submit" value="Submit">
                        </div>
                        <div class="text-center">
                            <a
                                    class="text-[--green-light] font-medium hover:underline"
                                    th:href="@{/auth/login/{persona}(persona=${js_persona})}"
                            >
                                Back to Sign in
                            </a>
                        </div>
                    </form>

                </div>
            </div>
        </div>

    </main>
</body>

</html>